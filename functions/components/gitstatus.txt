#region Git status every Nth command
if ($Git) {
    $r = git status
    $NewFiles = ($r -match 'new file:').count
    $ModFiles = ($r -match 'modified:').count
    $DelFiles = ($r -match 'deleted:').count
    $Branch = $r[0]

    Write-Host "git status: " -ForegroundColor White -BackgroundColor Black -NoNewline
    if (($Branch -eq "On branch master") -and (($NewFiles + $ModFiles + $DelFiles) -ne 0)) {
        Write-Host "*WARNING : Working in MASTER.*" -ForegroundColor Yellow -BackgroundColor Red -NoNewline 
    } 
    else { 
        $msg = $r[0] -replace "  ", "`r`n"
        Write-Host $msg -ForegroundColor Blue -BackgroundColor Black -NoNewline 
    } 
    Write-Host " New[$NewFiles] " -ForegroundColor Green -BackgroundColor Black -NoNewline
    Write-Host " Mod[$ModFiles] " -ForegroundColor DarkCyan -BackgroundColor Black -NoNewline
    Write-Host " Del[$DelFiles] " -ForegroundColor Red -BackgroundColor Black 
}
#endregion
